---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import Gallery from  "../components/Gallery.html";

// 檢查登入狀態
const cookies = Astro.request.headers.get('cookie');
const hasValidSession = cookies?.includes('username=') || cookies?.includes('token=');

// 如果未登入，重定向到首頁
if (!hasValidSession) {
  return Astro.redirect('/tymultiverse/');
}
---

<!DOCTYPE html>
<meta charset="UTF-8" />
<html>
  <head>
    <style>
      #system {
        text-align: center;
      }
      #settle {
        font-size: 100px;
        font-weight: bold;
        color: rgb(81, 167, 247);
      }
    </style>
  </head>
  <body>
    <BaseLayout
      title="Wildland | Wavo Yuropha"
      description="Learn about TY's most recent projects"
    >
      <div class="stack gap-20">
        <main class="wrapper stack gap-8">
          <Hero
            title="Wildland"
            tagline="Designed by Tianyi in Taipei."
            align="start"
          />
          <Gallery />
        </main>
      </div>
    </BaseLayout>
  </body>
</html>
