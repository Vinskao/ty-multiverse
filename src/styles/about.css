.ad {
flex: 0 0 auto;
margin-right: 10px;
transition: transform 0.3s ease, box-shadow 0.3s ease;
width: 200px;
border-radius: 12px;
overflow: hidden;
box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.ad:hover {
transform: translateY(-5px);
box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
}

h3 {
color: #514695;
font-size: 1.5rem;
font-weight: 600;
margin-bottom: 1rem;
position: relative;
display: inline-block;
}

h3::after {
content: '';
position: absolute;
bottom: -5px;
left: 0;
width: 100%;
height: 3px;
background: linear-gradient(90deg, #514695, transparent);
border-radius: 2px;
}

.about {
display: flex;
flex-direction: column;
gap: 3.5rem;
width: 100%;
max-width: 100%;
overflow-x: hidden;
background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
backdrop-filter: blur(10px);
padding: 2rem;
border-radius: 20px;
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
text-align: left;
}

.hero-section {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
}

.hero img {
width: 100%;
height: auto;
max-width: 100%;
object-fit: cover;
margin-top: 1.5rem;
border-radius: 1.5rem;
box-shadow: var(--shadow-md);
transition: transform 0.3s ease;
filter: grayscale(20%);
}

.hero img:hover {
transform: scale(1.02);
filter: grayscale(0%);
}

.work-photo {
  width: 100%;
  height: auto;
  max-width: 100%;
  object-fit: cover;
  margin: 0;
  border-radius: 1.5rem;
  box-shadow: var(--shadow-md);
  transition: transform 0.3s ease;
  filter: grayscale(20%);
  display: block;
  position: relative;
}

.work-photo:hover {
  transform: scale(1.02);
  filter: grayscale(0%) brightness(70%);
}

/* Overlay briefing inside work-photo */
/* Overlay for work-photo: replaced with mask text */
.work-photo-overlay { 
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}
.work-photo-wrapper:hover .work-photo-overlay { opacity: 1; }
.work-photo-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
}
.work-photo-overlay .mask-text {
  position: relative;
  z-index: 1;
  color: #fff;
  font-size: clamp(1.25rem, 3vw, 2rem);
  font-weight: 700;
  letter-spacing: 0.06em;
  text-shadow: 0 2px 8px rgba(0,0,0,0.35);
}

/* Keep image visible; only show mask over it */
.work-photo-wrapper:hover .work-photo { opacity: 1; visibility: visible; }

/* RWD for overlay */
@media (min-width: 1024px) {
  .work-photo-overlay { padding: 1rem; }
}
@media (max-width: 768px) {
  .work-photo-overlay { padding: 0.5rem; }
}
@media (max-width: 480px) {
  .work-photo-overlay { padding: 0.4rem; }
}



section {
display: flex;
flex-direction: column;
gap: 0.5rem;
color: var(--gray-200);
width: 100%;
max-width: 100%;
overflow-x: hidden;
padding: 1.5rem;
background: rgba(255, 255, 255, 0.05);
border-radius: 15px;
transition: transform 0.3s ease, box-shadow 0.3s ease;
}

section:hover {
transform: translateY(-3px);
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.section-title {
grid-column-start: 1;
font-size: var(--text-xl);
color: var(--gray-0);
font-weight: 700;
letter-spacing: 0.5px;
text-transform: uppercase;
text-align: center;
margin: 0 auto;
}

.content {
grid-column: 2 / 4;
width: 100%;
max-width: 100%;
overflow-x: hidden;
word-wrap: break-word;
word-break: break-word;
line-height: 1.8;
font-size: 1.1rem;
}

.content :global(a) {
text-decoration: 1px solid underline transparent;
text-underline-offset: 0.25em;
transition: text-decoration-color var(--theme-transition), color 0.3s ease;
color: #514695;
font-weight: 500;
}

.content :global(a:hover),
.content :global(a:focus) {
text-decoration-color: currentColor;
color: #3a2f6b;
}

.content p {
  text-align: left;
  margin: 0;
  padding: 0;
  line-height: 1;
}

.education-container {
/* max-height: 33vh; */
/* overflow-y: auto; */
/* scrollbar-width: thin; */
/* scrollbar-color: rgba(81, 70, 149, 0.3) transparent; */
}

.education-container::-webkit-scrollbar {
/* width: 6px; */
}

.education-container::-webkit-scrollbar-track {
/* background: transparent; */
}

.education-container::-webkit-scrollbar-thumb {
/* background-color: rgba(81, 70, 149, 0.3); */
/* border-radius: 3px; */
}

.education-item {
margin-bottom: 0.3rem;
padding: 0.8rem;
background: rgba(255, 255, 255, 0.03);
border-radius: 12px;
transition: transform 0.3s ease;
text-align: left;
}

.education-item:hover {
transform: translateX(5px);
}

.education-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 0.3rem;
}

.education-header h3 {
margin-bottom: 0;
text-align: left;
}

.education-period {
font-size: 0.9rem;
color: var(--gray-300);
font-style: italic;
}

.education-item ul {
list-style-type: none;
padding-left: 0;
text-align: left;
}

.education-item li {
position: relative;
padding-left: 1.5rem;
margin-bottom: 0.2rem;
text-align: left;
}

.education-item li::before {
content: '→';
position: absolute;
left: 0;
color: #514695;
}

/* Experience Section Styles */
.experience-item {
margin-bottom: 2.5rem;
padding: 2rem;
background: rgba(255, 255, 255, 0.03);
border-radius: 12px;
transition: transform 0.3s ease, box-shadow 0.3s ease;
text-align: left;
border-left: 4px solid #514695;
}

.experience-item:hover {
transform: translateX(5px);
box-shadow: 0 4px 15px rgba(81, 70, 149, 0.1);
}

.job-header {
display: flex;
flex-direction: column;
gap: 0.5rem;
margin-bottom: 1.5rem;
}

.job-header h3 {
margin-bottom: 0.5rem;
color: #514695;
font-size: 1.4rem;
}

.job-meta {
display: flex;
flex-wrap: wrap;
gap: 1rem;
align-items: center;
font-size: 0.95rem;
}

.company {
font-weight: 600;
color: var(--gray-100);
}

.period {
color: var(--gray-300);
font-style: italic;
}

.project-experience,
.responsibilities {
margin-bottom: 1.5rem;
}

.project-experience h4,
.skills-section h4 {
color: var(--gray-100);
font-size: 1.1rem;
margin-bottom: 1rem;
font-weight: 600;
}

.project-experience ul,
.responsibilities ul {
list-style-type: none;
padding-left: 0;
}

.project-experience ul.sub-bullets {
list-style-type: disc;
padding-left: 1.5rem;
margin-top: 0.4rem;
}

.project-experience ul.sub-bullets > li {
margin: 0.25rem 0;
line-height: 1.5;
}

/* nested sub-bullets use circle */
.project-experience ul.sub-bullets ul.sub-bullets {
list-style-type: circle;
padding-left: 1.25rem;
margin-top: 0.25rem;
}

.project-experience li,
.responsibilities li {
margin-bottom: 0.8rem;
line-height: 1.6;
}

.skills-section {
margin-top: 1.5rem;
width: auto;
max-width: none;
}

.skill-category {
margin-bottom: 1rem;
width: auto;
max-width: none;
}

.skill-category h5 {
color: var(--gray-100);
font-size: 1.1rem;
font-weight: 600;
margin-bottom: 0.5rem;
padding-bottom: 0.3rem;
border-bottom: 2px solid rgba(81, 70, 149, 0.3);
}

.skill-description {
font-size: 0.9rem;
color: var(--gray-300);
font-style: italic;
line-height: 1.4;
margin-top: 0.5rem;
}

.skill-description span {
display: block;
margin-bottom: 0.5rem;
position: relative;
padding-left: 1rem;
}

.skill-description span::before {
content: '•';
position: absolute;
left: 0;
color: #514695;
font-weight: bold;
}

.skill-description span:last-child {
margin-bottom: 0;
}

.skill-subcategory {
margin-bottom: 0.8rem;
width: auto;
max-width: none;
display: block;
}

.skill-subcategory h6 {
color: var(--gray-200);
font-size: 1rem;
font-weight: 500;
margin-bottom: 0.4rem;
padding-bottom: 0.2rem;
border-bottom: 1px solid rgba(81, 70, 149, 0.2);
}

.skill-subdescription {
font-size: 0.85rem;
color: var(--gray-400);
font-style: italic;
line-height: 1.4;
margin-top: 0.5rem;
}

.skill-subdescription span {
display: block;
margin-bottom: 0.5rem;
position: relative;
padding-left: 1rem;
}

.skill-subdescription span::before {
content: '•';
position: absolute;
left: 0;
color: #514695;
font-weight: bold;
}

.skill-subdescription span:last-child {
margin-bottom: 0;
}

.skill-tags {
display: flex;
flex-wrap: wrap;
gap: 0.3rem;
width: auto;
max-width: none;
align-items: flex-start;
}

/* Pill styles for skills */
.skill-tags .pill {
display: inline-block !important;
margin: 3px 6px 3px 0;
padding: 5px 10px;
border-radius: 20px;
color: #fff;
font-size: 14px;
transition: all 0.3s ease;
position: relative;
cursor: pointer;
width: auto !important;
max-width: none !important;
flex: none !important;
align-self: flex-start;
}

.skill-tags .pill:hover {
transform: scale(1.2);
font-size: 16px;
font-weight: bold;
white-space: normal;
overflow: visible;
width: auto !important;
max-width: none !important;
flex: none !important;
align-self: flex-start;
}

/* Tooltip styles */
.skill-tags .pill::after {
content: attr(data-tooltip);
position: absolute;
bottom: 125%;
left: 50%;
transform: translateX(-50%);
background-color: rgba(0, 0, 0, 0.8);
color: white;
padding: 5px 10px;
border-radius: 5px;
font-size: 12px;
white-space: nowrap;
opacity: 0;
visibility: hidden;
transition: opacity 0.3s ease, visibility 0.3s ease;
z-index: 1000;
width: auto;
max-width: none;
}

.skill-tags .pill:hover::after {
opacity: 1;
visibility: visible;
width: auto;
max-width: none;
}

/* Pill color classes */
:root {
--shade1: #e0f7ff;
--shade2: #b3e8ff;
--shade3: #80d8ff;
--shade4: #4dc9ff;
--shade5: #1abfff;
}

.pill1 { background-color: #b06c13; width: auto; max-width: none; }
.pill2 { background-color: #b7a414; width: auto; max-width: none; }
.pill3 { background-color: #306998; width: auto; max-width: none; }
.pill4 { background-color: #47a248; width: auto; max-width: none; }
.pill5 { background-color: #2496ed; width: auto; max-width: none; }
.pill6 { background-color: #0052cc; width: auto; max-width: none; }
.pill7 { background-color: #671f74; width: auto; max-width: none; }
.pill8 { background-color: #6e1431; width: auto; max-width: none; }
.pill9 { background-color: #146e66; width: auto; max-width: none; }
.pill10 { background-color: #2b5797; width: auto; max-width: none; }

/* Shade levels for skill proficiency */
.shade1 { opacity: 1.0; width: auto; max-width: none; }
.shade2 { opacity: 0.8; width: auto; max-width: none; }
.shade3 { opacity: 0.6; width: auto; max-width: none; }
.shade4 { opacity: 0.4; width: auto; max-width: none; }
.shade5 { opacity: 0.2; width: auto; max-width: none; }

/* Special classes */
.pill.jwt,
.pill.spring-security {
/* Removed special styling to fix spacing issue */
width: auto !important;
max-width: none !important;
flex: none !important;
align-self: flex-start;
}

.pill.jwt:hover,
.pill.spring-security:hover {
/* Removed special hover styling */
width: auto !important;
max-width: none !important;
flex: none !important;
align-self: flex-start;
}

.job-tags {
display: flex;
flex-wrap: wrap;
gap: 0.5rem;
width: auto;
max-width: none;
}

.tag {
background: linear-gradient(135deg, #514695, #3a2f6b);
color: white;
padding: 0.4rem 1rem;
border-radius: 20px;
font-size: 0.85rem;
font-weight: 500;
transition: all 0.3s ease;
width: auto;
max-width: none;
}

.tag:hover {
transform: translateY(-2px);
box-shadow: 0 4px 8px rgba(81, 70, 149, 0.3);
width: auto;
max-width: none;
}

/* Responsive Design for Experience */
@media (max-width: 768px) {
.experience-item {
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.job-header h3 {
    font-size: 1.2rem;
}

.job-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
}

.skill-tags {
    gap: 0.4rem;
    width: auto;
    max-width: none;
}

.skill-tags .pill {
    font-size: 0.8rem;
    padding: 0.25rem 0.6rem;
    width: auto;
    max-width: none;
}

.tag {
    font-size: 0.8rem;
    padding: 0.3rem 0.8rem;
    width: auto;
    max-width: none;
}
}

@media (min-width: 50em) {
.about {
    display: grid;
    grid-template-columns: 1fr minmax(0, 90%) 1fr;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    padding: 3rem;
}

.about > :global(:first-child) {
    grid-column-start: 2;
    width: 100%;
    max-width: 100%;
}

.hero-section {
    grid-column: 2;
    width: 100%;
}

section {
    display: contents;
    font-size: var(--text-lg);
    width: 100%;
    max-width: 100%;
    padding: 2rem;
}

.content {
    font-size: 1.2rem;
}

.hero img {
    max-width: 100%;
    width: 100%;
    height: auto;
    margin: 2rem auto;
    display: block;
}

.work-photo {
    max-width: 100%;
    width: 100%;
    height: auto;
    margin: 0;
}

.skill-tags {
    width: auto;
    max-width: none;
}

.skill-tags .pill {
    width: auto;
    max-width: none;
}

.skill-subcategory {
    width: auto;
    max-width: none;
}
}

@media (min-width: 75em) {
.about {
    grid-template-columns: 1fr minmax(0, 80%) 1fr;
}

.hero-section {
    grid-column: 2;
}

.work-photo {
    max-width: 100%;
    width: 100%;
    height: auto;
}

.skill-tags {
    width: auto;
    max-width: none;
}

.skill-tags .pill {
    width: auto;
    max-width: none;
}

.skill-subcategory {
    width: auto;
    max-width: none;
}
}

@media (max-width: 49.99em) {
.hero-section {
    width: 100%;
}

.hero img {
    max-width: 100%;
    width: 100%;
    height: auto;
    margin: 1.5rem 0;
    border-radius: 1rem;
}

.work-photo {
    max-width: 100%;
    width: 100%;
    height: auto;
    margin: 0;
    border-radius: 1rem;
}

.skill-tags {
    width: auto;
    max-width: none;
}

.skill-tags .pill {
    width: auto;
    max-width: none;
}

.skill-subcategory {
    width: auto;
    max-width: none;
}
}

/* iPhone 特定樣式 - 確保在 iPhone Chrome 上正確顯示 */
@media screen and (max-width: 767px) {
.about {
    display: flex !important;
    flex-direction: column !important;
    gap: 2rem !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding: 1rem !important;
    margin: 0 !important;
}

.hero-section {
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 1.5rem !important;
}

section {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    padding: 1rem !important;
    margin: 0 !important;
}

.content {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
    line-height: 1.6 !important;
    font-size: 1rem !important;
    padding: 0 !important;
}

.majestic-name {
    font-size: 2.5rem !important;
    line-height: 1.1 !important;
    margin: 0 0 0.5rem 0 !important;
}

.email {
    font-size: 1rem !important;
    margin: 0 !important;
}

.experience-item {
    padding: 1rem !important;
    margin-bottom: 1.5rem !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}

.skill-tags .pill {
    width: auto !important;
    max-width: none !important;
}

.skill-subcategory {
    width: auto !important;
    max-width: none !important;
}

.job-header h3 {
    font-size: 1.1rem !important;
    margin-bottom: 0.5rem !important;
}

.job-meta {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.25rem !important;
    font-size: 0.9rem !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}

.skill-tags .pill {
    width: auto !important;
    max-width: none !important;
}

.skill-subcategory {
    width: auto !important;
    max-width: none !important;
}

.skill-tags {
    gap: 0.3rem !important;
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap !important;
    width: auto !important;
    max-width: none !important;
    align-items: flex-start;
}

.skill-tags .pill {
    font-size: 0.75rem !important;
    padding: 0.2rem 0.5rem !important;
    margin: 2px 4px 2px 0 !important;
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
    align-self: flex-start;
}

.mermaid-diagram {
    margin-top: 0.5rem !important;
    padding: 0.25rem !important;
    overflow-x: auto !important;
}

.mermaid-diagram .mermaid {
    min-height: 80px !important;
}

.mermaid-diagram svg {
    max-width: 100% !important;
    height: auto !important;
}

.skill-subcategory {
    width: auto !important;
    max-width: none !important;
    display: block !important;
}
}

/* 針對 iPhone 橫向模式的額外調整 */
@media screen and (max-width: 767px) and (orientation: landscape) {
.about {
    padding: 0.5rem !important;
    gap: 1rem !important;
}

section {
    padding: 0.75rem !important;
}

.majestic-name {
    font-size: 2rem !important;
}

.content {
    font-size: 0.9rem !important;
}

.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}

.skill-tags .pill {
    width: auto !important;
    max-width: none !important;
}
}

/* 針對 iPhone 12/13/14/15 的特定寬度 */
@media screen and (max-width: 390px) {
.about {
    padding: 0.75rem !important;
}

.majestic-name {
    font-size: 2.2rem !important;
}

.content {
    font-size: 0.95rem !important;
}

.experience-item {
    padding: 0.75rem !important;
}

.skill-tags .pill {
    font-size: 0.7rem !important;
    padding: 0.15rem 0.4rem !important;
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
}

.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}
}

/* 針對 iPhone SE 等小螢幕 */
@media screen and (max-width: 375px) {
.about {
    padding: 0.5rem !important;
}

.majestic-name {
    font-size: 2rem !important;
}

.content {
    font-size: 0.9rem !important;
}

.experience-item {
    padding: 0.5rem !important;
}

.skill-tags .pill {
    font-size: 0.65rem !important;
    padding: 0.1rem 0.3rem !important;
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
}

.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}
}

/* iPhone Chrome 特定修復 */
@supports (-webkit-touch-callout: none) {
/* 針對 iOS Safari/Chrome 的特定修復 */
.about {
    -webkit-overflow-scrolling: touch !important;
    overflow-x: hidden !important;
}

.content {
    -webkit-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
}

.skill-tags .pill {
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
}

.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}

.mermaid-diagram {
    -webkit-overflow-scrolling: touch !important;
    overflow-x: auto !important;
}
}

/* 確保在所有 iOS 設備上正確顯示 */
@media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2) {
.about {
    display: flex !important;
    flex-direction: column !important;
    gap: 1.5rem !important;
    padding: 0.75rem !important;
}

section {
    padding: 0.75rem !important;
}

.content {
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
}

.majestic-name {
    font-size: 2.2rem !important;
}

.experience-item {
    padding: 0.75rem !important;
}

.skill-tags .pill {
    font-size: 0.7rem !important;
    padding: 0.15rem 0.4rem !important;
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
}

.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

.skill-tags {
    width: auto !important;
    max-width: none !important;
}
}

/* 強制 iPhone Chrome 使用正確的佈局 */
@media screen and (max-width: 767px) {
/* 確保所有元素都使用 flexbox 佈局 */
.about,
.hero-section,
section,
.content,
.experience-item,
.education-item,
.job-header,
.job-meta {
    display: flex !important;
    flex-direction: column !important;
}

/* 確保 skill 相關容器不會被強制為垂直排列 */
.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

/* 確保 skill 相關容器在所有設備上正確顯示 */
@media screen and (max-width: 767px) {
    .skills-section,
    .skill-category,
    .skill-subcategory {
        display: block !important;
        width: auto !important;
        max-width: none !important;
    }
    
    .skill-subcategory {
        display: block !important;
        width: auto !important;
        max-width: none !important;
        margin-bottom: 0.8rem !important;
    }
    
    .skill-tags {
        width: auto !important;
        max-width: none !important;
    }
    
    .skill-tags .pill {
        width: auto !important;
        max-width: none !important;
    }
}

/* 確保 skill 相關容器在所有設備上正確顯示 */
@media screen and (max-width: 767px) {
    .skills-section,
    .skill-category,
    .skill-subcategory {
        display: block !important;
        width: auto !important;
        max-width: none !important;
    }
    
    .skill-subcategory {
        display: block !important;
        width: auto !important;
        max-width: none !important;
        margin-bottom: 0.8rem !important;
    }
    
    .skill-tags {
        width: auto !important;
        max-width: none !important;
    }
    
    .skill-tags .pill {
        width: auto !important;
        max-width: none !important;
    }
}

/* 保持 skill-tags 為水平排列 */
.skill-tags {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap !important;
    width: auto !important;
    max-width: none !important;
    align-items: flex-start;
}

/* 防止水平滾動 */
.about,
.hero-section,
section,
.content {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
}

/* 確保文字不會溢出 */
.content,
.experience-item,
.education-item {
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
}

/* 調整圖片大小 */
.work-photo,
.hero img {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
}

/* 確保 Mermaid 圖表正確顯示 */
.mermaid-diagram {
    max-width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

.mermaid-diagram svg {
    max-width: 100% !important;
    height: auto !important;
}

/* 確保 skill-tags 中的 pills 正確顯示 */
.skill-tags .pill {
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
    align-self: flex-start;
}

/* 確保 skill 相關容器在強制佈局中正確顯示 */
.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}
}

/* 添加動畫效果 */
@keyframes fadeIn {
from {
    opacity: 0;
    transform: translateY(20px);
}
to {
    opacity: 1;
    transform: translateY(0);
}
}

section {
    animation: fadeIn 0.6s ease-out forwards;
}

section:nth-child(2) {
    animation-delay: 0.2s;
}

section:nth-child(3) {
    animation-delay: 0.4s;
}

/* Dark mode adjustments for better visibility */
.theme-dark .skill-tags .pill {
    background-color: rgba(200, 200, 200, 0.15);
    color: rgba(220, 220, 220, 0.9);
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
    align-self: flex-start;
}

.theme-dark .skill-tags .pill:hover {
    background-color: rgba(200, 200, 200, 0.25);
    color: rgba(240, 240, 240, 1);
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
    align-self: flex-start;
}

.theme-dark .experience-item li,
.theme-dark .education-item li {
    color: rgba(220, 220, 220, 0.9);
}

.theme-dark .skill-category h5,
.theme-dark .skill-subcategory h6 {
    color: rgba(230, 230, 230, 0.95);
}

.theme-dark .skills-section,
.theme-dark .skill-category,
.theme-dark .skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

.theme-dark .skill-tags {
    width: auto !important;
    max-width: none !important;
}

.theme-dark .project-experience h4,
.theme-dark .skills-section h4 {
    color: rgba(230, 230, 230, 0.95);
}

.mermaid-diagram {
  margin-top: 0.8rem;
  padding: 0.5rem;
  background: #ffffff; /* 淺色模式白底，提升對比度 */
  border-radius: 12px;
  border: 1px solid rgba(46, 58, 89, 0.2);
  overflow-x: auto;
}

.mermaid-diagram .mermaid {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 120px;
}

.mermaid-diagram svg {
  max-width: 100%;
  height: auto;
}

/* Dark theme adjustments for Mermaid */
.theme-dark .mermaid-diagram {
  background: #2a2a2a; /* 更深的灰色背景 */
  border: 2px solid rgba(100, 100, 100, 0.3);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Universal dark theme rules for ALL Mermaid elements */
.theme-dark .mermaid-diagram .mermaid * {
  color: #ffffff !important;
}

/* All nodes in dark theme */
.theme-dark .mermaid-diagram .mermaid .node rect,
.theme-dark .mermaid-diagram .mermaid .node circle,
.theme-dark .mermaid-diagram .mermaid .node ellipse,
.theme-dark .mermaid-diagram .mermaid .node polygon,
.theme-dark .mermaid-diagram .mermaid .cluster rect,
.theme-dark .mermaid-diagram .mermaid .actor rect {
  fill: #333333 !important;
  stroke: #ffffff !important;
  stroke-width: 2px !important;
}

/* All text in dark theme */
.theme-dark .mermaid-diagram .mermaid text,
.theme-dark .mermaid-diagram .mermaid .messageText,
.theme-dark .mermaid-diagram .mermaid .actor text,
.theme-dark .mermaid-diagram .mermaid .edgeLabel,
.theme-dark .mermaid-diagram .mermaid .edgeLabel text {
  fill: #ffffff !important;
  color: #ffffff !important;
  font-weight: 500 !important;
}

/* All lines and paths in dark theme */
.theme-dark .mermaid-diagram .mermaid .edgePath path,
.theme-dark .mermaid-diagram .mermaid .flowchart-link,
.theme-dark .mermaid-diagram .mermaid .messageLine0,
.theme-dark .mermaid-diagram .mermaid .messageLine1,
.theme-dark .mermaid-diagram .mermaid .loopLine,
.theme-dark .mermaid-diagram .mermaid .activation0,
.theme-dark .mermaid-diagram .mermaid .activation1,
.theme-dark .mermaid-diagram .mermaid .activation2 {
  stroke: #ffffff !important;
  stroke-width: 2px !important;
}

/* All markers and arrows in dark theme */
.theme-dark .mermaid-diagram .mermaid .marker path,
.theme-dark .mermaid-diagram .mermaid .marker,
.theme-dark .mermaid-diagram .mermaid .arrowMarkerPath {
  fill: #ffffff !important;
  stroke: #ffffff !important;
}

/* Dark mode: edge labels (Yes/No, People found, SSH 22, SSH Proxy, kubectl 6443) */
.theme-dark .mermaid-diagram .mermaid .edgeLabel rect,
.theme-dark .mermaid-diagram .mermaid .edgeLabel .label rect,
.theme-dark .mermaid-diagram .mermaid .edgeLabel .labelBox {
  fill: #333333 !important;
  stroke: #ffffff !important;
}
.theme-dark .mermaid-diagram .mermaid .edgeLabel,
.theme-dark .mermaid-diagram .mermaid .edgeLabel text,
.theme-dark .mermaid-diagram .mermaid .edgeLabel span,
.theme-dark .mermaid-diagram .mermaid .edgeLabel div {
  fill: #ffffff !important;
  color: #ffffff !important;
}

/* Ensure ALL strokes are light in dark mode */
.theme-dark .mermaid-diagram .mermaid path,
.theme-dark .mermaid-diagram .mermaid line,
.theme-dark .mermaid-diagram .mermaid polyline {
  stroke: #ffffff !important;
}

/* Sequence diagram notes in dark mode */
.theme-dark .mermaid-diagram .mermaid .note rect {
  fill: #333333 !important;
  stroke: #ffffff !important;
}
.theme-dark .mermaid-diagram .mermaid .note text {
  fill: #ffffff !important;
}

/* Dark mode: ensure class diagram boxes and activation bars are dark */
.theme-dark .mermaid-diagram .mermaid .classGroup rect {
  fill: #333333 !important;
  stroke: #ffffff !important;
}
.theme-dark .mermaid-diagram .mermaid .activation0,
.theme-dark .mermaid-diagram .mermaid .activation1,
.theme-dark .mermaid-diagram .mermaid .activation2 {
  fill: #333333 !important;
  stroke: #ffffff !important;
}

/* Fix Platforms diagram node visibility */
.theme-dark .mermaid-diagram .mermaid .node[class*="net"] {
  fill: #4a4a4a !important;
  stroke: #888888 !important;
  stroke-width: 2px !important;
}

.theme-dark .mermaid-diagram .mermaid .node[class*="net"] text {
  fill: #ffffff !important;
  font-weight: 500;
}

/* Light theme fixes for Platforms diagram */
.mermaid-diagram .mermaid .node[class*="net"] {
  fill: #f8f9fa !important;
  stroke: #6c757d !important;
  stroke-width: 2px !important;
}
/* Dark theme vivid classes for Platforms diagram */
.theme-dark .mermaid-diagram .mermaid .node[class*="host"] {
  fill: #1f2a44 !important;
  stroke: #5b7cff !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="control"] {
  fill: #2a1f44 !important;
  stroke: #a06bff !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="compute"] {
  fill: #1f4428 !important;
  stroke: #5ad67d !important;
}

/* Dark theme vivid classes for NoSQL diagram */
.theme-dark .mermaid-diagram .mermaid .node[class*="producer"] {
  fill: #0f345a !important;
  stroke: #4aa3ff !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="mq"] {
  fill: #3b0f5a !important;
  stroke: #b36bff !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="consumer"] {
  fill: #0f5a2a !important;
  stroke: #5aff8d !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="database"] {
  fill: #5a1f1f !important;
  stroke: #ff6b6b !important;
}

/* Ensure text visibility for dark theme classes */
.theme-dark .mermaid-diagram .mermaid .node[class*="host"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="control"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="compute"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="producer"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="mq"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="consumer"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="database"] text {
  fill: #ffffff !important;
  font-weight: 600;
}

/* Ensure edges and arrow markers remain visible */
.mermaid-diagram .mermaid .edgePath path {
  stroke: #000000 !important;
  stroke-width: 2px !important;
}
.mermaid-diagram .mermaid .marker path,
.mermaid-diagram .mermaid .marker {
  fill: #000000 !important;
  stroke: #000000 !important;
}

.theme-dark .mermaid-diagram .mermaid .edgePath path {
  stroke: #e6e6e6 !important;
  stroke-width: 2.2px !important;
}
.theme-dark .mermaid-diagram .mermaid .marker path,
.theme-dark .mermaid-diagram .mermaid .marker {
  fill: #e6e6e6 !important;
  stroke: #e6e6e6 !important;
}

/* High-contrast classes for last three diagrams (api/process/agent/workflow/capability/data/external) */
/* Light theme vivid fills */
.mermaid-diagram .mermaid .node[class*="api"] {
  fill: #c8e6c9 !important; /* green 100 */
  stroke: #2e7d32 !important; /* green 800 */
}
.mermaid-diagram .mermaid .node[class*="process"] {
  fill: #ffecb3 !important; /* amber 200 */
  stroke: #ff8f00 !important; /* amber 800 */
}
.mermaid-diagram .mermaid .node[class*="agent"] {
  fill: #bbdefb !important; /* blue 100 */
  stroke: #1565c0 !important; /* blue 800 */
}
.mermaid-diagram .mermaid .node[class*="workflow"] {
  fill: #ffe0b2 !important; /* orange 200 */
  stroke: #ef6c00 !important; /* orange 800 */
}
.mermaid-diagram .mermaid .node[class*="capability"] {
  fill: #f8bbd0 !important; /* pink 200 */
  stroke: #c2185b !important; /* pink 800 */
}
.mermaid-diagram .mermaid .node[class*="data"] {
  fill: #dcedc8 !important; /* light green 200 */
  stroke: #2e7d32 !important; /* green 800 */
}
.mermaid-diagram .mermaid .node[class*="external"] {
  fill: #e1bee7 !important; /* purple 200 */
  stroke: #6a1b9a !important; /* purple 800 */
}
.mermaid-diagram .mermaid .node[class*="api"] text,
.mermaid-diagram .mermaid .node[class*="process"] text,
.mermaid-diagram .mermaid .node[class*="agent"] text,
.mermaid-diagram .mermaid .node[class*="workflow"] text,
.mermaid-diagram .mermaid .node[class*="capability"] text,
.mermaid-diagram .mermaid .node[class*="data"] text,
.mermaid-diagram .mermaid .node[class*="external"] text {
  fill: #000000 !important;
  font-weight: 600;
}

/* Dark theme vivid fills */
.theme-dark .mermaid-diagram .mermaid .node[class*="api"] {
  fill: #0f3a28 !important;
  stroke: #51d88a !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="process"] {
  fill: #3a2a0f !important;
  stroke: #ffb84d !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="agent"] {
  fill: #102b4c !important;
  stroke: #4aa3ff !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="workflow"] {
  fill: #3a2300 !important;
  stroke: #ffa31a !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="capability"] {
  fill: #3a1122 !important;
  stroke: #ff5c93 !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="data"] {
  fill: #10331a !important;
  stroke: #34c759 !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="external"] {
  fill: #27103a !important;
  stroke: #b26bff !important;
}
.theme-dark .mermaid-diagram .mermaid .node[class*="api"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="process"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="agent"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="workflow"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="capability"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="data"] text,
.theme-dark .mermaid-diagram .mermaid .node[class*="external"] text {
  fill: #ffffff !important;
  font-weight: 600;
}

.mermaid-diagram .mermaid .node[class*="net"] text {
  fill: #000000 !important;
  font-weight: 500;
}

.theme-dark .mermaid-diagram .mermaid {
  filter: none;
  /* 設定深色模式主題的顏色變數 */
  --mermaid-bg: #2a2a2a;
  --mermaid-primary-color: #00d4ff; /* 亮藍色作為主要顏色 */
  --mermaid-secondary-color: #ff6b6b; /* 珊瑚紅作為次要顏色 */
  --mermaid-tertiary-color: #4ecdc4; /* 青色作為第三色 */
  --mermaid-primary-border-color: #00d4ff;
  --mermaid-secondary-border-color: #ff6b6b;
  --mermaid-tertiary-border-color: #4ecdc4;
  --mermaid-primary-text-color: #ffffff;
  --mermaid-secondary-text-color: #ffffff;
  --mermaid-tertiary-text-color: #ffffff;
  --mermaid-line-color: #cccccc;
  --mermaid-text-color: #ffffff;
  --mermaid-main-bkg-color: #333333;
  --mermaid-second-bkg-color: #444444;
  --mermaid-border1: #666666;
  --mermaid-border2: #888888;
  --mermaid-note-bkg-color: #333333;
  --mermaid-note-text-color: #ffffff;
  --mermaid-note-border-color: #666666;
}

/* 確保 Mermaid 圖表內的文字在深色背景下清晰可見 */
.theme-dark .mermaid-diagram .mermaid text {
  fill: #ffffff !important;
  font-weight: 500;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);
}

.theme-dark .mermaid-diagram .mermaid .edgeLabel {
  color: #ffffff !important;
}

.theme-dark .mermaid-diagram .mermaid .edgePath {
  stroke: #cccccc !important;
  stroke-width: 2px;
}

.theme-dark .mermaid-diagram .mermaid .node {
  fill: #333333 !important;
  stroke: #666666 !important;
  stroke-width: 2px;
}

.theme-dark .mermaid-diagram .mermaid .node:hover {
  fill: #444444 !important;
  stroke: #888888 !important;
}

.theme-dark .mermaid-diagram .mermaid .flowchart-link {
  stroke: #00d4ff !important;
  stroke-width: 3px;
}

.theme-dark .mermaid-diagram .mermaid .marker {
  fill: #00d4ff !important;
}

/* Name Section */
.name-section {
  text-align: center;
  margin: 1rem 0;
  padding: 1rem 0;
  border-bottom: 2px solid var(--theme-divider);
  clear: both;
}

/* Reduce vertical space for name section */
.name-section {
  margin: 0.5rem 0;
  padding: 0.5rem 0;
}

.majestic-name {
  font-size: 3.5rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  margin: 0 0 1rem 0;
  color: var(--theme-text);
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  font-family: 'Georgia', serif;
  line-height: 1.2;
}

.email {
  font-size: 1.1rem;
  color: var(--theme-text-light);
  margin: 0;
  font-weight: 300;
  letter-spacing: 0.05em;
  line-height: 1.5;
  text-align: center;
}

/* Hero Section */

/* Background Content */
.background-content {
  text-align: center;
}

/* Adjust line spacing for background text */
.background-content p {
  line-height: 1.8 !important;
  margin: 1rem 0;
}

/* Name Section */

/* Additional styles for inline replacements */
.mermaid-diagram.margin-top {
  margin-top: 16px;
}

/* Style for dynamically generated links in skill descriptions */
.skill-description a,
.skill-subdescription a {
  color: #007bff;
  text-decoration: underline;
}

.skill-description a:hover,
.skill-subdescription a:hover {
  color: #0056b3;
  text-decoration: underline;
}

/* Dark theme adjustments for links */
.theme-dark .skill-description a,
.theme-dark .skill-subdescription a {
  color: #4da6ff;
}

.theme-dark .skill-description a:hover,
.theme-dark .skill-subdescription a:hover {
  color: #66b3ff;
}

/* Date Highlight Styles */
.date-highlight {
  color: #ff6b35;
  font-weight: 600;
  background-color: rgba(255, 107, 53, 0.1);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  letter-spacing: 0.5px;
}

/* Dark theme adjustments for date highlights */
.theme-dark .date-highlight {
  color: #ff8c42;
  background-color: rgba(255, 140, 66, 0.15);
}

/* Responsive adjustments for date highlights */
@media (max-width: 768px) {
  .date-highlight {
    font-size: 0.85rem;
    padding: 1px 4px;
    letter-spacing: 0.3px;
  }
}

@media (max-width: 480px) {
  .date-highlight {
    font-size: 0.8rem;
    padding: 1px 3px;
    letter-spacing: 0.2px;
  }
}

/* --- Intro Statement Styles --- */
.intro-statement {
  background: rgba(81, 70, 149, 0.05);
  padding: 1.5rem 2rem;
  border-left: 4px solid #514695;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  max-width: 800px;
  margin: 0 auto 2rem auto;
  text-align: left;
  animation: fadeIn 0.8s ease;
}

.intro-statement p {
  margin: 0 0 1rem 0;
  line-height: 1.6;
  color: var(--gray-0);
  font-size: 1.05rem;
}

.intro-statement .quote {
  font-style: italic;
  color: var(--gray-100);
}

.intro-link {
  display: inline-block;
  margin-top: 0.25rem;
  font-weight: 600;
  color: #514695;
  text-decoration: none;
  transition: color 0.3s ease;
}

.intro-link:hover,
.intro-link:focus {
  color: #3a2f6b;
  text-decoration: underline;
}

/* Background section left align */
.background-content,
.background-content p {
  text-align: left !important;
}

/* Override name-section alignment within Background */
.background-content .name-section {
  text-align: left !important;
}

.background-content .name-section .email {
  text-align: left !important;
}

/* Force left alignment for all descendants of background-content */
.background-content * {
  text-align: left !important;
}

/* 確保 skill 相關元素在 background-content 中正確顯示 */
.background-content .skill-tags {
  width: auto !important;
  max-width: none !important;
}

.background-content .skill-tags .pill {
  width: auto !important;
  max-width: none !important;
}

.background-content .skill-subcategory {
  width: auto !important;
  max-width: none !important;
}

@media print {
  html, body {
    height: auto !important;
    overflow: visible !important;
    background: white !important;
    color: black !important;
  }
  .about, .wrapper, main, section, div, .stack, .content {
    height: auto !important;
    overflow: visible !important;
    display: block !important;
    max-width: 100% !important;
    box-shadow: none !important;
    background: none !important;
    padding: 0 !important;
  }
  
  /* 確保 skill 相關元素在 print 模式下正確顯示 */
  .skill-tags {
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-tags .pill {
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-subcategory {
    width: auto !important;
    max-width: none !important;
  }
  section {
    page-break-before: auto;
    page-break-after: always;
    page-break-inside: avoid;
    animation: none !important;
  }
  .experience-item, .education-item {
    box-shadow: none !important;
    background: none !important;
    border: none !important;
    padding: 0 !important;
  }
  nav, .no-print {
    display: none !important;
  }
  .mermaid-diagram, .mermaid-diagram svg {
    filter: none !important;
    background: none !important;
    color: black !important;
  }
  /* 讓所有內容展開且可見 */
  * {
    visibility: visible !important;
    color: black !important;
    background: none !important;
    box-shadow: none !important;
  }
  
  /* 確保 skill 相關元素在 print 模式下正確顯示 */
  .skill-tags {
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-tags .pill {
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-subcategory {
    width: auto !important;
    max-width: none !important;
  }
  
  /* 確保 skill-tags 在 print 模式下正確顯示 */
  .skill-tags {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap !important;
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-tags .pill {
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
  }
  
  /* 確保 skill 相關容器在 print 模式下正確顯示 */
.skills-section,
.skill-category,
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
}

/* 確保 skill-subcategory 在 print 模式下正確顯示 */
.skill-subcategory {
    display: block !important;
    width: auto !important;
    max-width: none !important;
    margin-bottom: 0.8rem !important;
}

/* 確保 skill 相關元素在 print 模式下正確顯示 */
.skill-tags {
    width: auto !important;
    max-width: none !important;
}

.skill-tags .pill {
    width: auto !important;
    max-width: none !important;
}

.skill-subcategory {
    width: auto !important;
    max-width: none !important;
}

/* 確保 skill-tags 在 print 模式下正確顯示 */
.skill-tags {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap !important;
    width: auto !important;
    max-width: none !important;
}

.skill-tags .pill {
    display: inline-block !important;
    width: auto !important;
    max-width: none !important;
    flex: none !important;
}
  /* 避免頁首空白 */
  body {
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* 確保 skill 相關元素在 print 模式下正確顯示 */
  .skill-tags {
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-tags .pill {
    width: auto !important;
    max-width: none !important;
  }
  
  .skill-subcategory {
    width: auto !important;
    max-width: none !important;
  }
}

/* Force visible borders for Mermaid shapes in light/dark modes */
/* Light mode: use black borders on nodes/clusters (avoid white) */
.mermaid-diagram .mermaid .node rect,
.mermaid-diagram .mermaid .node circle,
.mermaid-diagram .mermaid .node ellipse,
.mermaid-diagram .mermaid .node polygon,
.mermaid-diagram .mermaid .cluster rect {
  stroke: #000000 !important;
  stroke-width: 2px !important;
}

/* Dark mode: use white borders on nodes/clusters (avoid black) */
.theme-dark .mermaid-diagram .mermaid .node rect,
.theme-dark .mermaid-diagram .mermaid .node circle,
.theme-dark .mermaid-diagram .mermaid .node ellipse,
.theme-dark .mermaid-diagram .mermaid .node polygon,
.theme-dark .mermaid-diagram .mermaid .cluster rect {
  stroke: #ffffff !important;
  stroke-width: 2px !important;
}

/* Dark mode: ensure connectors/arrows are white */
.theme-dark .mermaid-diagram .mermaid .edgePath path,
.theme-dark .mermaid-diagram .mermaid .flowchart-link {
  stroke: #ffffff !important;
}
.theme-dark .mermaid-diagram .mermaid .marker path,
.theme-dark .mermaid-diagram .mermaid .marker {
  fill: #ffffff !important;
  stroke: #ffffff !important;
}

/* Light mode: ensure high-contrast text and lines for Mermaid */
.mermaid-diagram .mermaid text {
  fill: #000000 !important;
  font-weight: 600;
}
.mermaid-diagram .mermaid .cluster rect {
  fill: #ffffff !important;
  stroke: #000000 !important;
}
.mermaid-diagram .mermaid .note rect {
  fill: #ffffff !important;
  stroke: #000000 !important;
}
.mermaid-diagram .mermaid .note text {
  fill: #000000 !important;
}
.mermaid-diagram .mermaid .actor rect {
  fill: #ffffff !important;
  stroke: #000000 !important;
}
.mermaid-diagram .mermaid .actor text {
  fill: #000000 !important;
}
.mermaid-diagram .mermaid path,
.mermaid-diagram .mermaid line,
.mermaid-diagram .mermaid polyline {
  stroke: #000000 !important;
}
.mermaid-diagram .mermaid .edgeLabel {
  color: #000000 !important;
  font-weight: 600;
}
/* Light mode: edge label backgrounds */
.mermaid-diagram .mermaid .edgeLabel rect,
.mermaid-diagram .mermaid .edgeLabel .label rect,
.mermaid-diagram .mermaid .edgeLabel .labelBox {
  fill: #ffffff !important;
  stroke: #000000 !important;
}
/* Sequence diagram lines in light mode */
.mermaid-diagram .mermaid .messageLine0,
.mermaid-diagram .mermaid .messageLine1,
.mermaid-diagram .mermaid .loopLine {
  stroke: #000000 !important;
  stroke-width: 2px !important;
}

/* Flowchart connector lines in light mode */
.mermaid-diagram .mermaid .flowchart-link {
  stroke: #000000 !important;
  stroke-width: 2px;
}
/* Sequence diagram actors in light mode */
.mermaid-diagram .mermaid .actor rect {
  stroke: #000000 !important;
  stroke-width: 2px !important;
}
.mermaid-diagram .mermaid .actor text {
  fill: #0b1a33 !important;
  font-weight: 600;
}

/* Light mode: ensure ALL node/blocks have light backgrounds */
.mermaid-diagram .mermaid .node rect,
.mermaid-diagram .mermaid .node circle,
.mermaid-diagram .mermaid .node ellipse,
.mermaid-diagram .mermaid .node polygon {
  fill: #ffffff !important;
}
.mermaid-diagram .mermaid .classGroup rect {
  fill: #ffffff !important;
  stroke: #000000 !important;
}
.mermaid-diagram .mermaid .activation0,
.mermaid-diagram .mermaid .activation1,
.mermaid-diagram .mermaid .activation2 {
  fill: #ffffff !important;
  stroke: #000000 !important;
}
